"use strict";(()=>{var k=function(s,o,t,a){function r(e){return e instanceof t?e:new t(function(i){i(e)})}return new(t||(t=Promise))(function(e,i){function l(c){try{n(a.next(c))}catch(u){i(u)}}function f(c){try{n(a.throw(c))}catch(u){i(u)}}function n(c){c.done?e(c.value):r(c.value).then(l,f)}n((a=a.apply(s,o||[])).next())})},b=function(s,o){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},a,r,e,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(n){return function(c){return f([n,c])}}function f(n){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,n[0]&&(t=0)),t;)try{if(a=1,r&&(e=n[0]&2?r.return:n[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,n[1])).done)return e;switch(r=0,e&&(n=[n[0]&2,e.value]),n[0]){case 0:case 1:e=n;break;case 4:return t.label++,{value:n[1],done:!1};case 5:t.label++,r=n[1],n=[0];continue;case 7:n=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(n[0]===6||n[0]===2)){t=0;continue}if(n[0]===3&&(!e||n[1]>e[0]&&n[1]<e[3])){t.label=n[1];break}if(n[0]===6&&t.label<e[1]){t.label=e[1],e=n;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(n);break}e[2]&&t.ops.pop(),t.trys.pop();continue}n=o.call(s,t)}catch(c){n=[6,c],r=0}finally{a=e=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},v=null,m=null,T=!1;function S(){return k(this,void 0,void 0,function(){var s,o;return b(this,function(t){switch(t.label){case 0:return typeof process<"u"&&process.versions!=null&&process.versions.node!=null?(s="http",[4,import(s)]):[3,3];case 1:return v=t.sent(),o="https",[4,import(o)];case 2:m=t.sent(),t.label=3;case 3:return T=!0,[2]}})})}function E(s,o){return k(this,void 0,void 0,function(){var t;return b(this,function(a){switch(a.label){case 0:return[4,fetch("".concat(o),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})];case 1:return t=a.sent(),[2,t.json()]}})})}function M(s,o,t){return k(this,void 0,void 0,function(){var a,r,e,i;return b(this,function(l){return a=JSON.stringify(s),r=new URL(o),e={hostname:r.hostname,path:r.search?r.pathname+r.search:r.pathname,port:r.port,method:"POST",headers:{"Content-Type":"application/json","Content-Length":a.length},agent:t},i=o.includes("https")?m:v,[2,new Promise(function(f,n){var c=i.request(e,function(u){var w="";u.on("data",function(g){w+=g}),u.on("end",function(){return k(this,void 0,void 0,function(){var g;return b(this,function(I){return g=JSON.parse(w),f(g),[2]})})})});c.on("error",function(u){n(u)}),c.write(a),c.end()})]})})}var x=function(){function s(o){if(this.url=void 0,this.agent=void 0,this.url=o,v!==null&&m!==null){var t=o.includes("https")?m:v;this.agent=new t.Agent({keepAlive:!0})}}return s.prototype.call=function(o){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return k(this,void 0,void 0,function(){var r,e;return b(this,function(i){switch(i.label){case 0:return r={jsonrpc:"2.0",method:o,params:t,id:3},e=void 0,T?[3,2]:[4,S()];case 1:i.sent(),i.label=2;case 2:return v!==null&&m!==null?[4,M(r,this.url,this.agent)]:[3,4];case 3:return e=i.sent(),[3,6];case 4:return[4,E(r,this.url)];case 5:e=i.sent(),i.label=6;case 6:return e.error?[2,e.error.message]:[2,e.result]}})})},s}();var y=function(s,o,t,a){function r(e){return e instanceof t?e:new t(function(i){i(e)})}return new(t||(t=Promise))(function(e,i){function l(c){try{n(a.next(c))}catch(u){i(u)}}function f(c){try{n(a.throw(c))}catch(u){i(u)}}function n(c){c.done?e(c.value):r(c.value).then(l,f)}n((a=a.apply(s,o||[])).next())})},p=function(s,o){var t={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},a,r,e,i;return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(n){return function(c){return f([n,c])}}function f(n){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,n[0]&&(t=0)),t;)try{if(a=1,r&&(e=n[0]&2?r.return:n[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,n[1])).done)return e;switch(r=0,e&&(n=[n[0]&2,e.value]),n[0]){case 0:case 1:e=n;break;case 4:return t.label++,{value:n[1],done:!1};case 5:t.label++,r=n[1],n=[0];continue;case 7:n=t.ops.pop(),t.trys.pop();continue;default:if(e=t.trys,!(e=e.length>0&&e[e.length-1])&&(n[0]===6||n[0]===2)){t=0;continue}if(n[0]===3&&(!e||n[1]>e[0]&&n[1]<e[3])){t.label=n[1];break}if(n[0]===6&&t.label<e[1]){t.label=e[1],e=n;break}if(e&&t.label<e[2]){t.label=e[2],t.ops.push(n);break}e[2]&&t.ops.pop(),t.trys.pop();continue}n=o.call(s,t)}catch(c){n=[6,c],r=0}finally{a=e=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},d=function(){function s(){}return s.getAllTasksByUser=function(o){return y(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,s.remote.call("TaskService.getAllTasksByUser",o)];case 1:return[2,t.sent()]}})})},s.createTask=function(o,t){return y(this,void 0,void 0,function(){return p(this,function(a){switch(a.label){case 0:return[4,s.remote.call("TaskService.createTask",o,t)];case 1:return[2,a.sent()]}})})},s.updateTask=function(o,t,a,r){return y(this,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return[4,s.remote.call("TaskService.updateTask",o,t,a,r)];case 1:return[2,e.sent()]}})})},s.deleteTask=function(o){return y(this,void 0,void 0,function(){return p(this,function(t){switch(t.label){case 0:return[4,s.remote.call("TaskService.deleteTask",o)];case 1:return[2,t.sent()]}})})},s.remote=new x("https://yd34jbevbgujcbrqjmfkei553e0qtrlt.lambda-url.us-east-1.on.aws/TaskService"),s}();var B=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#DC3545" class="bi bi-trash-fill" viewBox="0 0 16 16">
<path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
</svg>`,h=localStorage.getItem("apiToken");h||(h=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),localStorage.setItem("apiToken",h));async function L(){document.getElementById("modal-error-elem").innerHTML="";let s=document.getElementById("task-title-input").value;if(!s){document.getElementById("modal-error-elem").innerHTML="Title is mandatory";return}d.createTask(h,s).then(o=>{o.success&&location.reload()})}document.getElementById("add-task-btn").addEventListener("click",async s=>{s.preventDefault(),L()});d.getAllTasksByUser(h).then(s=>{if(s.success)for(let t of s.tasks){let a=document.getElementById("tasks"),r=`<span>${t.title}</span>`,e=t.url?`at <a href="${t.url}" target="_blank"> ${t.url}</a>`:"",i=t.solved?"checked":"",l=`<button class="btn" onclick="handleDeleteTask('${t.id}')">${B}</button>`;window.handleDeleteTask=async f=>{(await d.deleteTask(f)).success&&location.reload()},a.innerHTML+=`
          <div class="mb-3">
              <div class="d-flex align-items-center">
                  <input type="checkbox" ${t.solved?"checked":""} class="task_checkbox" id=${t.id}>
                  <p class="mb-0" style="margin-right: auto; margin-left: 20px">
                    ${r}
                    ${e}
                  </p>
                  <span class="d-inline-block" tabindex="0" data-toggle="tooltip" title="Check out genezio challenge">
                    ${l}
                  </span>
              </div>
          </div>
          `}let o=document.getElementsByClassName("task_checkbox");for(let t of o)t.addEventListener("change",async a=>{let r=a.target.id,e=s.tasks.find(i=>i.id===r);await d.updateTask(h,r,e.title,a.target.checked)})});})();
//# sourceMappingURL=bundle.js.map
